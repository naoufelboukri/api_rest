<div class="editAccount">
    <h2>Mon profile</h2>
    <hr>
    <div class="container" *ngIf="user">
        <form #form="ngForm" (ngSubmit)="onSubmit(form)">
            <p>En modifiant les informations votre nom d'utilisateur, vous serez déconnecter</p>
            <div class="row">
                <label for="username">Nom d'utilisateur</label>
                <input type="text" [value]="user.username" [placeholder]="user.username" id="username" name="username" ngModel required>
            </div>
            <div class="row">
                <label for="username">Rôle</label>
                <select name="role" ngModel>
                    <option *ngFor="let state of states" [ngValue]="state.name">{{state.abbrev}}</option>
                </select>
            </div>
            <button type="submit">Modifier l'utilisateur</button>
        </form>
        <hr>
        <div *ngFor="let address of addresses" class="address">
            <form #form="ngForm" (ngSubmit)="saveAddress(form, address)">
                <div class="row">
                    <label for="road">Rue</label>
                    <input type="text" [value]="address.road" [placeholder]="address.road" id="road" name="road" ngModel required>
                </div>
                <div class="row">
                    <label for="city">Ville</label>
                    <input type="text" [value]="address.city" [placeholder]="address.city" id="city" name="city" ngModel required>
                </div>
                <div class="row">
                    <label for="postalCode">Code postal</label>
                    <input type="text" [value]="address.postalCode" [placeholder]="address.postalCode" id="postalCode" name="postalCode" ngModel required>
                </div>
                <div class="row">
                    <label for="country">Pays</label>
                    <input type="text" [value]="address.country" [placeholder]="address.country" id="country" name="country" ngModel required>
                </div>
                <div class="btns">
                    <button type="submit">Enregistrer</button>
                    <button (click)="deleteAddress(address.id)" type="button">Supprimer</button>
                </div>
            </form>
            <span *ngIf="size !== addresses.length && error.length > 0">{{error}}</span>
        </div>
        <button class="addAddress" (click)="addAddress()" *ngIf="size === addresses.length">Ajouter</button>
    </div>
</div>